{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\nimport { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSort, MatSortModule } from '@angular/material/sort';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/_shared/user.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/table\";\nimport * as i4 from \"@angular/material/sort\";\nimport * as i5 from \"@angular/material/progress-bar\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/forms\";\nfunction UsersComponent_mat_progress_bar_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 15);\n  }\n}\nfunction UsersComponent_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"ID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r14.id);\n  }\n}\nfunction UsersComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"First Name\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r15.firstName);\n  }\n}\nfunction UsersComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"Last Name\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r16.lastName);\n  }\n}\nfunction UsersComponent_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"Email\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsersComponent_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r17.email);\n  }\n}\nfunction UsersComponent_th_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 18);\n  }\n}\nfunction UsersComponent_td_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 17)(1, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function UsersComponent_td_20_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const user_r18 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.toggleEdit(user_r18));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r18 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r18.editing ? \"done\" : \"edit\");\n  }\n}\nfunction UsersComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 20);\n  }\n}\nfunction UsersComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 21);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_22_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const user_r21 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.expandedElement = ctx_r22.expandedElement === user_r21 ? null : user_r21);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r21 = ctx.$implicit;\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"expanded-row\", ctx_r12.expandedElement === user_r21);\n  }\n}\nfunction UsersComponent_tr_23_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"mat-form-field\")(3, \"input\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_tr_23_div_2_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const user_r24 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(user_r24.firstName = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(4, \"div\", 25)(5, \"mat-form-field\")(6, \"input\", 27);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_tr_23_div_2_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const user_r24 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(user_r24.lastName = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"div\", 25)(8, \"mat-form-field\")(9, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function UsersComponent_tr_23_div_2_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const user_r24 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(user_r24.email = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 29)(11, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_23_div_2_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const user_r24 = i0.ɵɵnextContext().$implicit;\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.save(user_r24));\n    });\n    i0.ɵɵtext(12, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_23_div_2_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const user_r24 = i0.ɵɵnextContext().$implicit;\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.cancel(user_r24));\n    });\n    i0.ɵɵtext(14, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r24 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", user_r24.firstName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", user_r24.lastName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", user_r24.email);\n  }\n}\nfunction UsersComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 22)(1, \"td\");\n    i0.ɵɵtemplate(2, UsersComponent_tr_23_div_2_Template, 15, 3, \"div\", 23);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const user_r24 = ctx.$implicit;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", ctx_r13.displayedColumns.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.expandedElement === user_r24);\n  }\n}\nexport class UsersComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.displayedColumns = ['id', 'firstName', 'lastName', 'email', 'actions'];\n    this.isLoading = true;\n  }\n  ngOnInit() {\n    this.loadUsers();\n  }\n  loadUsers() {\n    this.isLoading = true;\n    this.userService.getUsers().subscribe(users => {\n      if (users.users.length) {\n        this.dataSource = new MatTableDataSource(users.users);\n        console.log(this.dataSource);\n        this.dataSource.paginator = this.paginator;\n        this.dataSource.sort = this.sort;\n        this.isLoading = false;\n      }\n    }, error => {\n      console.error(error);\n      this.isLoading = false;\n    });\n  }\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n  }\n  toggleEdit(user) {\n    console.log(user);\n    user.editing = !user.editing;\n    if (user.editing) {\n      // Make a copy of the user to allow canceling changes\n      user.editingUser = Object.assign({}, user);\n    }\n  }\n  save(user) {\n    // Simulate saving changes to a data source\n    user.editing = false;\n    user.editingUser = null;\n  }\n  cancel(user) {\n    // Cancel editing and restore the original user data\n    user.editing = false;\n    Object.assign(user, user.editingUser);\n    user.editingUser = null;\n  }\n}\nUsersComponent.ɵfac = function UsersComponent_Factory(t) {\n  return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\nUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersComponent,\n  selectors: [[\"app-users\"]],\n  viewQuery: function UsersComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(MatPaginator, 5);\n      i0.ɵɵviewQuery(MatSort, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n    }\n  },\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 24,\n  vars: 4,\n  consts: [[1, \"table-container\", \"mat-elevation-z8\"], [\"matInput\", \"\", \"placeholder\", \"Filter\", 3, \"keyup\"], [\"mode\", \"indeterminate\", 4, \"ngIf\"], [\"mat-table\", \"\", \"matSort\", \"\", \"multiTemplateDataRows\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"firstName\"], [\"matColumnDef\", \"lastName\"], [\"matColumnDef\", \"email\"], [\"matColumnDef\", \"actions\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 3, \"expanded-row\", \"click\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-row\", \"\", \"class\", \"expanded-row-detail\", 4, \"matRowDef\"], [\"mode\", \"indeterminate\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\"], [\"mat-icon-button\", \"\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\", 3, \"click\"], [\"mat-row\", \"\", 1, \"expanded-row-detail\"], [\"class\", \"expanded-row-content\", 4, \"ngIf\"], [1, \"expanded-row-content\"], [1, \"input-field\"], [\"matInput\", \"\", \"placeholder\", \"First Name\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Last Name\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Email\", 3, \"ngModel\", \"ngModelChange\"], [1, \"actions\"], [\"mat-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-button\", \"\", \"color\", \"warn\", 3, \"click\"]],\n  template: function UsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 0)(2, \"mat-form-field\")(3, \"input\", 1);\n      i0.ɵɵlistener(\"keyup\", function UsersComponent_Template_input_keyup_3_listener($event) {\n        return ctx.applyFilter($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(4, UsersComponent_mat_progress_bar_4_Template, 1, 0, \"mat-progress-bar\", 2);\n      i0.ɵɵelementStart(5, \"table\", 3);\n      i0.ɵɵelementContainerStart(6, 4);\n      i0.ɵɵtemplate(7, UsersComponent_th_7_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(8, UsersComponent_td_8_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(9, 7);\n      i0.ɵɵtemplate(10, UsersComponent_th_10_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(11, UsersComponent_td_11_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(12, 8);\n      i0.ɵɵtemplate(13, UsersComponent_th_13_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(14, UsersComponent_td_14_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(15, 9);\n      i0.ɵɵtemplate(16, UsersComponent_th_16_Template, 2, 0, \"th\", 5);\n      i0.ɵɵtemplate(17, UsersComponent_td_17_Template, 2, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(18, 10);\n      i0.ɵɵtemplate(19, UsersComponent_th_19_Template, 1, 0, \"th\", 11);\n      i0.ɵɵtemplate(20, UsersComponent_td_20_Template, 4, 1, \"td\", 6);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(21, UsersComponent_tr_21_Template, 1, 0, \"tr\", 12);\n      i0.ɵɵtemplate(22, UsersComponent_tr_22_Template, 1, 2, \"tr\", 13);\n      i0.ɵɵtemplate(23, UsersComponent_tr_23_Template, 3, 2, \"tr\", 14);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n    }\n  },\n  dependencies: [CommonModule, i2.NgIf, MatTableModule, i3.MatTable, i3.MatHeaderCellDef, i3.MatHeaderRowDef, i3.MatColumnDef, i3.MatCellDef, i3.MatRowDef, i3.MatHeaderCell, i3.MatCell, i3.MatHeaderRow, i3.MatRow, MatPaginatorModule, MatSortModule, i4.MatSort, i4.MatSortHeader, MatProgressBarModule, i5.MatProgressBar, MatFormFieldModule, i6.MatFormField, MatInputModule, i7.MatInput, MatIconModule, i8.MatIcon, FormsModule, i9.DefaultValueAccessor, i9.NgControlStatus, i9.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["CommonModule","MatTableDataSource","MatTableModule","MatPaginator","MatPaginatorModule","MatSort","MatSortModule","MatProgressBarModule","MatFormFieldModule","MatIconModule","FormsModule","MatInputModule","i0","UsersComponent","constructor","userService","ngOnInit","loadUsers","isLoading","getUsers","subscribe","users","length","dataSource","console","log","paginator","sort","error","applyFilter","event","filterValue","target","value","filter","trim","toLowerCase","toggleEdit","user","editing","editingUser","Object","assign","save","cancel","selectors","viewQuery","ctx","styles"],"sourceRoot":"","sources":["/Users/suneelkraguru/Downloads/interview-starter/src/app/_pages/users/users.component.ts","/Users/suneelkraguru/Downloads/interview-starter/src/app/_pages/users/users.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserService } from '@app/_shared/user.service';\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\nimport { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSort, MatSortModule } from '@angular/material/sort';\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\nimport { User } from '@app/_state/users/users-store';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport {MatIconModule} from '@angular/material/icon';\nimport { FormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\n\n@Component({\n  selector: 'app-users',\n  standalone: true,\n  imports: [\n    CommonModule,\n    MatTableModule,\n    MatPaginatorModule,\n    MatSortModule,\n    MatProgressBarModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatIconModule,\n    FormsModule\n  ],\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.scss']\n})\nexport class UsersComponent implements OnInit{\n\n  displayedColumns: string[] = ['id', 'firstName', 'lastName', 'email','actions'];\n  dataSource: MatTableDataSource<User>;\n  isLoading: boolean = true;\n  expandedUser: User | null; // keep track of expanded user for toggling\n  expandedElement:User | null;\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(private userService: UserService) { }\n\n  ngOnInit() {\n    this.loadUsers();\n  }\n\n  loadUsers() {\n    this.isLoading = true;\n    this.userService.getUsers().subscribe(users => {\n      if (users.users.length) { \n      this.dataSource = new MatTableDataSource(users.users);\n      console.log(this.dataSource);\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n      this.isLoading = false;\n      }\n    }, error => {\n      console.error(error);\n      this.isLoading = false;\n    });\n  }\n\n  \n\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n  }\n\n  toggleEdit(user: User) {\n    console.log(user);\n    user.editing = !user.editing;\n    if (user.editing) {\n      // Make a copy of the user to allow canceling changes\n      user.editingUser = Object.assign({}, user);\n    }\n  }\n\n  save(user: User) {\n    // Simulate saving changes to a data source\n    user.editing = false;\n    user.editingUser = null;\n  }\n\n  cancel(user: User) {\n    // Cancel editing and restore the original user data\n    user.editing = false;\n    Object.assign(user, user.editingUser);\n    user.editingUser = null;\n  }\n\n  // isRowExpanded(user: User) {\n  //   return this.expandedUser === user;\n  // }\n  // save(user: User) {\n  //   // this.userService.updateUser(user).subscribe(() => {\n  //   //   user.editing = false;\n  //   //   this.expandedUser = null;\n  //   // });\n  // }\n\n  // cancel(user: User) {\n  //   // user.editing = false;\n  //   // this.expandedUser = null;\n  // }\n  // applyFilter(event: Event) {\n  //   const filterValue = (event.target as HTMLInputElement).value;\n  //   this.dataSource.filter = filterValue.trim().toLowerCase();\n  // }\n\n  // toggleEdit(user: User) {\n  //   user.editing = !user.editing;\n  //   if (user.editing) {\n  //     this.expandedElement = user;\n  //   } else {\n  //     this.expandedElement = null;\n  //   }\n  // }\n\n  // deleteUser(user:User){\n\n  // }\n\n}","<div class=\"table-container mat-elevation-z8\">\n\n    <!-- <mat-form-field>\n      <input matInput (keyup)=\"applyFilter($event)\" placeholder=\"Filter\">\n    </mat-form-field> -->\n  \n    <!-- <mat-progress-bar *ngIf=\"isLoading\" mode=\"indeterminate\"></mat-progress-bar> -->\n\n\n    <div class=\"table-container mat-elevation-z8\">\n\n        <mat-form-field>\n          <input matInput (keyup)=\"applyFilter($event)\" placeholder=\"Filter\">\n        </mat-form-field>\n      \n        <mat-progress-bar *ngIf=\"isLoading\" mode=\"indeterminate\"></mat-progress-bar>\n      \n        <table mat-table [dataSource]=\"dataSource\" matSort multiTemplateDataRows>\n      \n          <!-- Table Header -->\n          <ng-container matColumnDef=\"id\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>\n            <td mat-cell *matCellDef=\"let user\">{{ user.id }}</td>\n          </ng-container>\n      \n          <ng-container matColumnDef=\"firstName\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>First Name</th>\n            <td mat-cell *matCellDef=\"let user\">{{ user.firstName }}</td>\n          </ng-container>\n      \n          <ng-container matColumnDef=\"lastName\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</th>\n            <td mat-cell *matCellDef=\"let user\">{{ user.lastName }}</td>\n          </ng-container>\n      \n          <ng-container matColumnDef=\"email\">\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>\n            <td mat-cell *matCellDef=\"let user\">{{ user.email }}</td>\n          </ng-container>\n      \n          <ng-container matColumnDef=\"actions\">\n            <th mat-header-cell *matHeaderCellDef></th>\n            <td mat-cell *matCellDef=\"let user\">\n              <button mat-icon-button (click)=\"toggleEdit(user)\">\n                <mat-icon>{{ user.editing ? 'done' : 'edit' }}</mat-icon>\n              </button>\n              <!-- <button mat-icon-button color=\"warn\" (click)=\"deleteUser(user)\">\n                <mat-icon>delete</mat-icon>\n              </button> -->\n            </td>\n          </ng-container>\n      \n          <!-- Table Rows -->\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n          <tr mat-row *matRowDef=\"let user; columns: displayedColumns;\"\n            [class.expanded-row]=\"expandedElement === user\"\n            (click)=\"expandedElement = expandedElement === user ? null : user\">\n          </tr>\n      \n          <!-- Expandable Rows -->\n          <tr mat-row *matRowDef=\"let user;\" class=\"expanded-row-detail\">\n            <td [attr.colspan]=\"displayedColumns.length\">\n              <div class=\"expanded-row-content\" *ngIf=\"expandedElement === user\">\n                <div class=\"input-field\">\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"user.firstName\" placeholder=\"First Name\">\n                  </mat-form-field>\n                </div>\n                <div class=\"input-field\">\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"user.lastName\" placeholder=\"Last Name\">\n                  </mat-form-field>\n                </div>\n                <div class=\"input-field\">\n                  <mat-form-field>\n                    <input matInput [(ngModel)]=\"user.email\" placeholder=\"Email\">\n                  </mat-form-field>\n                </div>\n                <div class=\"actions\">\n                  <button mat-button color=\"primary\" (click)=\"save(user)\">Save</button>\n                  <button mat-button color=\"warn\" (click)=\"cancel(user)\">Cancel</button>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </table>\n      \n  \n    <!-- <mat-paginator [pageSizeOptions]=\"[10, 25, 50]\" showFirstLastButtons></mat-paginator>-->\n  \n  </div>\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}