{"ast":null,"code":"import { createEffect, ofType } from '@ngrx/effects';\nimport { switchMap, map, catchError } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { loadUsers, loadUsersFailure, loadUsersSuccess } from './users.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/effects\";\nimport * as i2 from \"@angular/common/http\";\nexport class UserEffects {\n  constructor(actions$, http) {\n    this.actions$ = actions$;\n    this.http = http;\n    this.loadUsers$ = createEffect(() => this.actions$.pipe(ofType(loadUsers), switchMap(() => this.http.get('https://dummyjson.com/users').pipe(map(response => {\n      const usersValues = response.map(user => ({\n        id: user.id,\n        fisrtname: user.firstName,\n        lastName: user.firstName,\n        email: user.email,\n        phone: user.phone\n      }));\n      return loadUsersSuccess({\n        users: usersValues\n      });\n    }), catchError(error => of(loadUsersFailure({\n      error\n    })))))));\n  }\n}\nUserEffects.ɵfac = function UserEffects_Factory(t) {\n  return new (t || UserEffects)(i0.ɵɵinject(i1.Actions), i0.ɵɵinject(i2.HttpClient));\n};\nUserEffects.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UserEffects,\n  factory: UserEffects.ɵfac\n});","map":{"version":3,"mappings":"AAEA,SAAkBA,YAAY,EAAEC,MAAM,QAAQ,eAAe;AAC7D,SAASC,SAAS,EAAEC,GAAG,EAAEC,UAAU,QAAQ,gBAAgB;AAC3D,SAASC,EAAE,QAAQ,MAAM;AACzB,SAASC,SAAS,EAAEC,gBAAgB,EAAEC,gBAAgB,QAAQ,iBAAiB;;;;AAI/E,OAAM,MAAOC,WAAW;EACtBC,YAAoBC,QAAiB,EAAUC,IAAgB;IAA3C,aAAQ,GAARD,QAAQ;IAAmB,SAAI,GAAJC,IAAI;IAEnD,eAAU,GAAGZ,YAAY,CAAC,MACxB,IAAI,CAACW,QAAQ,CAACE,IAAI,CAChBZ,MAAM,CAACK,SAAS,CAAC,EACjBJ,SAAS,CAAC,MACR,IAAI,CAACU,IAAI,CAACE,GAAG,CAAQ,6BAA6B,CAAC,CAACD,IAAI,CACtDV,GAAG,CAAEY,QAAe,IAAI;MACtB,MAAMC,WAAW,GAAGD,QAAQ,CAACZ,GAAG,CAAEc,IAAI,KAAM;QAC1CC,EAAE,EAAED,IAAI,CAACC,EAAE;QACXC,SAAS,EAAEF,IAAI,CAACG,SAAS;QACzBC,QAAQ,EAAEJ,IAAI,CAACG,SAAS;QACxBE,KAAK,EAAEL,IAAI,CAACK,KAAK;QACjBC,KAAK,EAAEN,IAAI,CAACM;OACb,CAAC,CAAC;MACH,OAAOf,gBAAgB,CAAC;QAAEgB,KAAK,EAAER;MAAW,CAAE,CAAC;IACjD,CAAC,CAAC,EACFZ,UAAU,CAAEqB,KAAK,IAAKpB,EAAE,CAACE,gBAAgB,CAAC;MAAEkB;IAAK,CAAE,CAAC,CAAC,CAAC,CACvD,CACF,CACF,CACF;EArBiE;;AADvDhB,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAiB,SAAXjB,WAAW;AAAA","names":["createEffect","ofType","switchMap","map","catchError","of","loadUsers","loadUsersFailure","loadUsersSuccess","UserEffects","constructor","actions$","http","pipe","get","response","usersValues","user","id","fisrtname","firstName","lastName","email","phone","users","error","factory"],"sourceRoot":"","sources":["/Users/suneelkraguru/Downloads/interview-starter/src/app/_state/users/users.effects.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { switchMap, map, catchError } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { loadUsers, loadUsersFailure, loadUsersSuccess } from './users.actions';\nimport { User } from './users-store';\n\n@Injectable()\nexport class UserEffects {\n  constructor(private actions$: Actions, private http: HttpClient) {}\n\n  loadUsers$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(loadUsers),\n      switchMap(() =>\n        this.http.get<any[]>('https://dummyjson.com/users').pipe(\n          map((response:User[]) => {\n            const usersValues = response.map((user) => ({\n              id: user.id,\n              fisrtname: user.firstName,\n              lastName: user.firstName,\n              email: user.email,\n              phone: user.phone,\n            }));\n            return loadUsersSuccess({ users: usersValues });\n          }),\n          catchError((error) => of(loadUsersFailure({ error })))\n        )\n      )\n    )\n  );\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}